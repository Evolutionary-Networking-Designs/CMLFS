# Final System: Grub
# Source: https://ftp.gnu.org/gnu/grub/grub-2.04.tar.xz
# This section is done in Chroot environment

# Requires the as[sembler] from binutils, otherwise using llvm-as:
# checking for options to compile assembly... configure: error: could not compile assembly

# for BIOS-based PCs:
# CC=clang CXX=clang++ CFLAGS="-Wno-error" \
#./configure --prefix=/usr          \
#            --sbindir=/sbin        \
#            --sysconfdir=/etc      \
#            --disable-efiemu       \
#            --disable-werror

# for UEFI-based PCs:
CC=clang CXX=clang++ CFLAGS="-Wno-error" \
./configure --prefix=/usr          \
            --target=x86_64        \
            --with-platform=efi    \
            --sbindir=/sbin        \
            --sysconfdir=/etc      \
            --disable-werror

make && make install

